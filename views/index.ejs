<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keystone AI</title>
    <link rel="stylesheet" href="/index.css">
</head>
<body>
    <% 
        const loggedIn = typeof isLoggedIn !== 'undefined' ? isLoggedIn : (locals && locals.isLoggedIn);
        const currentUser = typeof user !== 'undefined' ? user : (locals && locals.user);
    %>
    <main class="landing">
        <section class="hero">
            <p class="badge">Keystone AI</p>
            <h1>개발자를 위한 실시간 OpenAI 챗 인터페이스</h1>
            <p class="description">
                회원가입 후 로그인하면 맞춤형 AI 비서를 바로 사용할 수 있습니다.
                로그인 상태에서는 /ai/chat에서 지능형 답변을 확인하고, 필요 시 안전하게 로그아웃하세요.
            </p>
            <% if (loggedIn && currentUser) { %>
                <p class="welcome"><strong><%= currentUser.id %></strong> 님 환영합니다.</p>
            <% } %>
            <div class="actions">
                <% if (loggedIn) { %>
                    <a href="/ai/chat" class="btn primary">AI 채팅 바로가기</a>
                    <form method="POST" action="/auth/logout" class="inline-form">
                        <button type="submit" class="btn ghost">로그아웃</button>
                    </form>
                <% } else { %>
                    <a href="/auth/register" class="btn ghost">회원가입</a>
                    <a href="/auth/login" class="btn primary">로그인</a>
                <% } %>
            </div>
        </section>
        <section class="features">
            <article>
                <h2>보안 인증</h2>
                <p>JWT 기반 인증으로 개인 세션을 안전하게 유지합니다.</p>
            </article>
            <article>
                <h2>실시간 응답</h2>
                <p>OpenAI Chat Completions API와 연동되어 자연스러운 대화를 제공합니다.</p>
            </article>
            <article>
                <h2>반응형 UI</h2>
                <p>데스크톱과 모바일에 모두 최적화된 다크 테마 인터페이스를 제공합니다.</p>
            </article>
        </section>
    </main>
</body>
</html>
