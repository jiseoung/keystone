<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keystone AI</title>
    <link rel="stylesheet" href="/index.css">
</head>
<body>
    <% 
        const loggedIn = typeof isLoggedIn !== 'undefined' ? isLoggedIn : (locals && locals.isLoggedIn);
        const currentUser = typeof user !== 'undefined' ? user : (locals && locals.user);
    %>
    <main class="landing">
        <section class="hero">
            <p class="badge">Keystone AI</p>
            <h1>keystone AI 인터페이스</h1>
            <p class="description">
                AI 사용 시간을 설정해 AI의 과도한 사용을 줄여보세요.
            </p>
            <% if (loggedIn && currentUser) { %>
                <p class="welcome"><strong><%= currentUser.id %></strong> 님 환영합니다.</p>
            <% } %>
            <div class="actions">
                <% if (loggedIn) { %>
                    <a href="/ai/chat" class="btn primary">AI 채팅 바로가기</a>
                    <a href="/ai/config" class="btn primary">AI 사용시간 설정하기</a>
                    <form method="POST" action="/auth/logout" class="inline-form">
                        <button type="submit" class="btn ghost">로그아웃</button>
                    </form>
                <% } else { %>
                    <a href="/auth/register" class="btn ghost">회원가입</a>
                    <a href="/auth/login" class="btn primary">로그인</a>
                <% } %>
            </div>
        </section>
    </main>
</body>
</html>
